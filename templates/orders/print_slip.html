<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Order Slip</title>
  <style>
    body {
      font-family: monospace;
      font-size: 13px;
      margin: 0;
      padding: 8px;
    }
    .center { text-align: center; }
    .line { border-top: 1px dashed #000; margin: 6px 0; }
    .bold { font-weight: bold; }
    .item { margin: 4px 0; }
  </style>
</head>

<body onload="window.print()">

  <div class="center bold">SWAD OF TAMIL</div>
  <div class="center">Authentic Tamil Breakfast</div>

  <div class="line"></div>

  <div>Order: <b>{{ order.order_number }}</b></div>
  <div>Time : {{ order.created_at|date:"h:i A" }}</div>
  <div>Type : {{ order.payment_method|upper }}</div>

  <div class="line"></div>

  <div class="bold">ITEMS</div>
  {% for c in order.order_combos.all %}
    <div class="item">â€¢ {{ c.combo.name }} Ã— {{ c.quantity }}</div>
  {% endfor %}

  {% for i in order.order_items.all %}
    <div class="item">â€¢ {{ i.prepared_item.name }} Ã— {{ i.quantity }}</div>
  {% endfor %}

  {% if order.order_snacks.exists %}
    <div class="line"></div>
    <div class="bold">ADD-ONS</div>
    {% for s in order.order_snacks.all %}
      <div class="item">â€¢ {{ s.snack_name }} Ã— {{ s.quantity }}</div>
    {% endfor %}
  {% endif %}

  <div class="line"></div>

  <div class="bold">
    TOTAL ITEMS :
    {{ order.order_items.count|add:order.order_combos.count }}
  </div>

  {% if order.customer_phone %}
    <div class="line"></div>
    <div>Customer:</div>
    <div>{{ order.customer_name|default:"â€”" }}</div>
    <div>ðŸ“ž {{ order.customer_phone }}</div>
  {% endif %}

  <div class="line"></div>
  <div>Status: <b>{{ order.status|upper }}</b></div>

</body>
</html>
